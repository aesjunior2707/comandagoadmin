import{c as d,o as r,a as t,l as u,B as n,C as H,b as x,d as D,k as l,t as o,q as y,z as _,D as w,F as k,r as C,n as O}from"./BkdkwG03.js";import{r as N,a as U,b as E}from"./DCGag0Rd.js";function J(S,c){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const G={class:"flex justify-between items-center mb-8"},I={class:"flex gap-3"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Z={class:"card"},K={class:"flex items-center space-x-4"},Q={class:"p-3 bg-green-100 rounded-lg"},X={class:"text-2xl font-bold text-gray-900"},Y={class:"card"},tt={class:"flex items-center space-x-4"},et={class:"p-3 bg-blue-100 rounded-lg"},st={class:"text-2xl font-bold text-gray-900"},at={class:"card mb-8"},lt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ot={class:"form-group"},nt={class:"form-group"},it=["value"],dt={class:"form-group"},rt=["value"],ut={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},ct={class:"p-6 border-b border-gray-200"},mt={class:"flex justify-between items-center"},gt={class:"flex items-center gap-2"},vt={class:"text-sm text-gray-600"},pt={class:"overflow-x-auto"},bt={class:"data-table"},xt={class:"bg-white divide-y divide-gray-200"},ht={class:"font-medium"},ft={class:"font-semibold"},yt={class:"text-gray-500"},_t={class:"flex gap-2"},wt=["onClick"],kt=["onClick"],Ct={class:"flex items-center justify-between p-6 border-t border-gray-200"},Dt={class:"text-sm text-gray-700"},St={class:"flex gap-2"},Tt=["disabled"],Mt=["disabled"],Rt={__name:"history",setup(S){const c=u("today"),m=u(""),g=u(""),h=u(""),i=u(1),v=u(10),p=u([{id:1001,table:5,waiter:"John Doe",items:[{name:"Margherita Pizza",quantity:1,price:18.99},{name:"Caesar Salad",quantity:1,price:14.99}],total:33.98,status:"completed",date:new Date("2024-01-25T12:30:00"),paymentMethod:"Credit Card"},{id:1002,table:12,waiter:"Jane Smith",items:[{name:"Spaghetti Carbonara",quantity:2,price:16.99},{name:"Tiramisu",quantity:1,price:8.99}],total:42.97,status:"completed",date:new Date("2024-01-25T13:15:00"),paymentMethod:"Cash"},{id:1003,table:3,waiter:"Mike Johnson",items:[{name:"Grilled Salmon",quantity:1,price:24.99}],total:24.99,status:"cancelled",date:new Date("2024-01-25T14:00:00"),paymentMethod:"Credit Card"},{id:1004,table:8,waiter:"Sarah Wilson",items:[{name:"Bruschetta",quantity:2,price:9.99},{name:"Chicken Caesar Salad",quantity:1,price:14.99}],total:34.97,status:"completed",date:new Date("2024-01-25T15:30:00"),paymentMethod:"Credit Card"}]),T=n(()=>[...new Set(p.value.map(s=>s.table))].sort((s,e)=>s-e)),M=n(()=>[...new Set(p.value.map(s=>s.waiter))].sort()),P=n(()=>p.value.filter(s=>s.status==="completed"&&f(s.date)).reduce((s,e)=>s+e.total,0).toFixed(2)),V=n(()=>p.value.filter(s=>f(s.date)).length);n(()=>25),n(()=>4.6);const b=n(()=>{let s=p.value;return m.value&&(s=s.filter(e=>e.table===parseInt(m.value))),g.value&&(s=s.filter(e=>e.waiter===g.value)),h.value&&(s=s.filter(e=>e.status===h.value)),c.value==="today"&&(s=s.filter(e=>f(e.date))),s.sort((e,a)=>new Date(a.date)-new Date(e.date))}),R=n(()=>Math.ceil(b.value.length/v.value)),$=n(()=>{const s=(i.value-1)*v.value,e=s+v.value;return b.value.slice(s,e)}),f=s=>{const e=new Date;return s.toDateString()===e.toDateString()},q=s=>s.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=s=>({completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",refunded:"bg-yellow-100 text-yellow-800"})[s]||"bg-gray-100 text-gray-800",j=s=>{console.log("View order details:",s)},W=s=>{console.log("Print receipt for order:",s)},z=()=>{console.log("Export data")},A=()=>{console.log("Refresh data")};return H([m,g,h,c],()=>{i.value=1}),(s,e)=>(r(),d("div",null,[t("div",G,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Histórico de Mesas e Contas"),t("p",{class:"text-gray-600"},"Ver histórico de pedidos e gerenciar contas de clientes")],-1)),t("div",I,[t("button",{onClick:z,class:"btn-secondary"},[x(l(J),{class:"w-4 h-4 mr-2"}),e[5]||(e[5]=D(" Exportar "))]),t("button",{onClick:A,class:"btn-primary"},[x(l(N),{class:"w-4 h-4 mr-2"}),e[6]||(e[6]=D(" Atualizar "))])])]),t("div",L,[t("div",Z,[t("div",K,[t("div",Q,[x(l(U),{class:"w-6 h-6 text-green-600"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-gray-600 mb-1"},"Faturamento de Hoje",-1)),t("p",X,"R$"+o(l(P)),1)])])]),t("div",Y,[t("div",tt,[t("div",et,[x(l(E),{class:"w-6 h-6 text-blue-600"})]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600 mb-1"},"Pedidos de Hoje",-1)),t("p",st,o(l(V)),1)])])])]),t("div",at,[t("div",lt,[t("div",ot,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Período de Datas",-1)),y(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>w(c)?c.value=a:null),class:"input-field"},e[10]||(e[10]=[t("option",{value:"today"},"Today",-1),t("option",{value:"week"},"This Week",-1),t("option",{value:"month"},"This Month",-1),t("option",{value:"custom"},"Custom Range",-1)]),512),[[_,l(c)]])]),t("div",nt,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mesas",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>w(m)?m.value=a:null),class:"input-field"},[e[12]||(e[12]=t("option",{value:""},"All Tables",-1)),(r(!0),d(k,null,C(l(T),a=>(r(),d("option",{key:a,value:a},"Table "+o(a),9,it))),128))],512),[[_,l(m)]])]),t("div",dt,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Garçons",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>w(g)?g.value=a:null),class:"input-field"},[e[14]||(e[14]=t("option",{value:""},"All Waiters",-1)),(r(!0),d(k,null,C(l(M),a=>(r(),d("option",{key:a,value:a},o(a),9,rt))),128))],512),[[_,l(g)]])])])]),t("div",ut,[t("div",ct,[t("div",mt,[e[16]||(e[16]=t("h2",{class:"text-xl font-semibold text-gray-900"},"Pedidos Recentes",-1)),t("div",gt,[t("span",vt,o(l(b).length)+" orders",1)])])]),t("div",pt,[t("table",bt,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",null,"Order #"),t("th",null,"Table"),t("th",null,"Waiter"),t("th",null,"Items"),t("th",null,"Total"),t("th",null,"Status"),t("th",null,"Date"),t("th",null,"Actions")])],-1)),t("tbody",xt,[(r(!0),d(k,null,C(l($),a=>(r(),d("tr",{key:a.id},[t("td",ht," #"+o(a.id.toString().padStart(4,"0")),1),t("td",null,"Table "+o(a.table),1),t("td",null,o(a.waiter),1),t("td",null,o(a.items.length)+" items",1),t("td",ft,"R$"+o(a.total.toFixed(2)),1),t("td",null,[t("span",{class:O(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",B(a.status)])},o(a.status),3)]),t("td",yt,o(q(a.date)),1),t("td",null,[t("div",_t,[t("button",{onClick:F=>j(a),class:"text-emerald-600 hover:text-emerald-900 text-sm font-medium"}," View ",8,wt),t("button",{onClick:F=>W(a),class:"text-gray-600 hover:text-gray-900 text-sm font-medium"}," Print ",8,kt)])])]))),128))])])]),t("div",Ct,[t("div",Dt," Showing "+o((l(i)-1)*l(v)+1)+" to "+o(Math.min(l(i)*l(v),l(b).length))+" of "+o(l(b).length)+" results ",1),t("div",St,[t("button",{onClick:e[3]||(e[3]=a=>i.value--),disabled:l(i)===1,class:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 disabled:opacity-50 rounded font-medium"}," Previous ",8,Tt),t("button",{onClick:e[4]||(e[4]=a=>i.value++),disabled:l(i)>=l(R),class:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 disabled:opacity-50 rounded font-medium"}," Next ",8,Mt)])])])]))}};export{Rt as default};
