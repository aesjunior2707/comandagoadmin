import{g as r,a9 as i,G as a}from"./BkdkwG03.js";const o=r("auth",{state:()=>({user:null,isLoading:!1}),getters:{isAuthenticated:e=>!!e.user,currentUser:e=>e.user,restaurantName:e=>{var s,t;return((t=(s=e.user)==null?void 0:s.restaurant)==null?void 0:t.name)||""},userRole:e=>{var s;return((s=e.user)==null?void 0:s.role)||""}},actions:{async login(e){this.isLoading=!0;try{return await new Promise(s=>setTimeout(s,1500)),this.user={id:1,name:"Restaurant Admin",email:e.email,role:"admin",avatar:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400",restaurant:{name:"La Bella Vista",id:"rest_001"}},await a("/"),{success:!0}}catch(s){return{success:!1,error:s.message||"Login failed"}}finally{this.isLoading=!1}},async logout(){this.user=null,await a("/login")},updateProfile(e){this.user&&(this.user={...this.user,...e})},initializeAuth(){}},persist:{storage:i.localStorage,paths:["user"]}});export{o as u};
