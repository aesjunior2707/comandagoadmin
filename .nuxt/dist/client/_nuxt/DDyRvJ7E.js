import{_ as T}from"./Bi4Dxke8.js";import{u as M}from"./CmQ2mFUl.js";import{c as u,o as x,a as t,g as j,j as R,t as o,k as e,b as d,d as h,n as v,w as m,F as y,r as w}from"./BkdkwG03.js";import{u as k}from"./uwfmn6dF.js";import{u as L}from"./MO5Vtskd.js";import{r as $,a as A,b as P}from"./DCGag0Rd.js";import{r as V}from"./BI6s_dxX.js";import{r as S,a as B,b as N,c as F}from"./DOIh-GLP.js";function z(a,r){return x(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}const G=j("dashboard",{state:()=>({stats:{todayRevenue:4250,todayOrders:87,totalTables:24,occupiedTables:18,staffOnDuty:8},recentOrders:[{id:1045,table:12,items:3,total:89.5,status:"completed",time:new Date(Date.now()-3e5)},{id:1044,table:8,items:5,total:124.75,status:"preparing",time:new Date(Date.now()-6e5)},{id:1043,table:15,items:2,total:45.3,status:"completed",time:new Date(Date.now()-9e5)},{id:1042,table:3,items:4,total:78.9,status:"served",time:new Date(Date.now()-12e5)},{id:1041,table:21,items:6,total:156.25,status:"completed",time:new Date(Date.now()-15e5)}],isLoading:!1}),getters:{dashboardStats:a=>a.stats,latestOrders:a=>a.recentOrders.slice(0,5),todayRevenue:a=>a.stats.todayRevenue,occupancyRate:a=>Math.round(a.stats.occupiedTables/a.stats.totalTables*100),completedOrdersToday:a=>a.recentOrders.filter(r=>r.status==="completed").length},actions:{async fetchDashboardData(){this.isLoading=!0;try{return await new Promise(a=>setTimeout(a,1e3)),this.recentOrders=this.recentOrders.map(a=>({...a,time:new Date(Date.now()-Math.random()*36e5)})),{success:!0}}catch(a){return{success:!1,error:a.message}}finally{this.isLoading=!1}},async refreshStats(){this.isLoading=!0;try{return await new Promise(a=>setTimeout(a,500)),this.stats.todayRevenue+=Math.floor(Math.random()*100),this.stats.todayOrders+=Math.floor(Math.random()*5),{success:!0}}catch(a){return{success:!1,error:a.message}}finally{this.isLoading=!1}},addNewOrder(a){const r={id:Math.max(...this.recentOrders.map(n=>n.id))+1,...a};this.recentOrders.unshift(r),this.recentOrders.length>10&&(this.recentOrders=this.recentOrders.slice(0,10)),this.stats.todayOrders++,a.status==="completed"&&(this.stats.todayRevenue+=a.total)}}}),H={class:"space-y-8"},W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Z={class:"mt-2 text-gray-600"},q={class:"mt-4 sm:mt-0 flex space-x-3"},E=["disabled"],I={class:"btn-primary"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},U={class:"stat-card"},J={class:"flex items-center space-x-4"},K={class:"stat-icon bg-emerald-100"},X={class:"flex-1"},Y={class:"flex items-baseline space-x-2"},tt={class:"text-2xl font-bold text-gray-900"},st={class:"stat-card"},et={class:"flex items-center space-x-4"},at={class:"stat-icon bg-blue-100"},ot={class:"flex-1"},dt={class:"flex items-baseline space-x-2"},lt={class:"text-2xl font-bold text-gray-900"},it={class:"stat-card"},nt={class:"flex items-center space-x-4"},rt={class:"stat-icon bg-yellow-100"},ct={class:"flex-1"},mt={class:"flex items-baseline space-x-2"},ut={class:"text-2xl font-bold text-gray-900"},xt={class:"text-sm font-medium text-yellow-600"},_t={class:"stat-card"},ht={class:"flex items-center space-x-4"},ft={class:"stat-icon bg-purple-100"},pt={class:"flex-1"},bt={class:"flex items-baseline space-x-2"},gt={class:"text-2xl font-bold text-gray-900"},vt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},yt={class:"lg:col-span-2"},wt={class:"card"},St={class:"card-header"},Ot={class:"flex items-center justify-between"},Dt={class:"card-body"},Ct={class:"overflow-x-auto"},Tt={class:"data-table"},Mt={class:"bg-white divide-y divide-gray-200"},jt={class:"font-medium text-gray-900"},Rt={class:"text-sm text-gray-500"},kt={class:"font-medium"},Lt={class:"text-gray-600"},$t={class:"font-semibold"},At={class:"space-y-6"},Pt={class:"card"},Vt={class:"card-body"},Bt={class:"space-y-4"},Nt={class:"flex items-center justify-between"},Ft={class:"text-sm font-semibold text-gray-900"},zt={class:"flex items-center justify-between"},Gt={class:"text-sm font-semibold text-gray-900"},Ht={class:"flex items-center justify-between"},Wt={class:"text-sm font-semibold text-gray-900"},Zt={class:"flex items-center justify-between"},qt={class:"text-sm font-semibold text-gray-900"},Et={class:"card-footer"},It={class:"card"},Qt={class:"card-body"},Ut={class:"grid grid-cols-2 gap-4"},Jt={class:"card"},Kt={class:"card-body"},Xt={class:"space-y-4"},Yt=["src","alt"],ts={class:"flex-1 min-w-0"},ss={class:"text-sm font-medium text-gray-900 truncate"},es={class:"text-xs text-gray-500"},as={class:"text-right"},os={class:"text-sm font-semibold text-gray-900"},xs={__name:"index",setup(a){const r=M(),n=G(),i=k(),f=L(),O=_=>_.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),D=_=>({completed:"badge-success",preparing:"badge-warning",served:"badge-info",cancelled:"badge-danger"})[_]||"badge-info",C=async()=>{await n.fetchDashboardData()};return R(()=>{n.fetchDashboardData()}),(_,s)=>{var p,b,g;const c=T;return x(),u("div",H,[t("div",W,[t("div",null,[s[0]||(s[0]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard",-1)),t("p",Z,"Bem-vindo de volta, "+o((p=e(r).user)==null?void 0:p.name)+". Veja o que está acontecendo no "+o((g=(b=e(r).user)==null?void 0:b.restaurant)==null?void 0:g.name)+" hoje.",1)]),t("div",q,[t("button",{onClick:C,disabled:e(n).isLoading,class:"btn-secondary"},[d(e($),{class:v(["w-4 h-4 mr-2",{"animate-spin":e(n).isLoading}])},null,8,["class"]),s[1]||(s[1]=h(" Refresh "))],8,E),t("button",I,[d(e(V),{class:"w-4 h-4 mr-2"}),s[2]||(s[2]=h(" Quick Order "))])])]),t("div",Q,[t("div",U,[t("div",J,[t("div",K,[d(e(A),{class:"w-6 h-6 text-emerald-600"})]),t("div",X,[s[4]||(s[4]=t("p",{class:"text-sm font-medium text-gray-600 mb-1"},"Faturamento de Hoje",-1)),t("div",Y,[t("p",tt,"R$"+o(e(n).todayRevenue.toLocaleString()),1),s[3]||(s[3]=t("span",{class:"text-sm font-medium text-emerald-600"},"+12.5%",-1))])])])]),t("div",st,[t("div",et,[t("div",at,[d(e(P),{class:"w-6 h-6 text-blue-600"})]),t("div",ot,[s[6]||(s[6]=t("p",{class:"text-sm font-medium text-gray-600 mb-1"},"Total de Pedidos de Hoje",-1)),t("div",dt,[t("p",lt,o(e(n).dashboardStats.todayOrders),1),s[5]||(s[5]=t("span",{class:"text-sm font-medium text-blue-600"},"+8.2%",-1))])])])]),t("div",it,[t("div",nt,[t("div",rt,[d(e(S),{class:"w-6 h-6 text-yellow-600"})]),t("div",ct,[s[7]||(s[7]=t("p",{class:"text-sm font-medium text-gray-600 mb-1"},"Mesas Ocupadas",-1)),t("div",mt,[t("p",ut,o(e(i).tableStatusCounts.occupied)+"/"+o(e(i).tableStatusCounts.available+e(i).tableStatusCounts.occupied),1),t("span",xt,o(Math.round(e(i).tableStatusCounts.occupied/(e(i).tableStatusCounts.available+e(i).tableStatusCounts.occupied)*100))+"%",1)])])])]),t("div",_t,[t("div",ht,[t("div",ft,[d(e(B),{class:"w-6 h-6 text-purple-600"})]),t("div",pt,[s[9]||(s[9]=t("p",{class:"text-sm font-medium text-gray-600 mb-1"},"Total de Garçons",-1)),t("div",bt,[t("p",gt,o(e(f).waiterStatusCounts.onDuty),1),s[8]||(s[8]=t("span",{class:"text-sm font-medium text-purple-600"},"Ativo",-1))])])])])]),t("div",vt,[t("div",yt,[t("div",wt,[t("div",St,[t("div",Ot,[s[11]||(s[11]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Pedidos Recentes",-1)),d(c,{to:"/history",class:"text-sm font-medium text-emerald-600 hover:text-emerald-700"},{default:m(()=>s[10]||(s[10]=[h(" Ver Todos os Pedidos ")])),_:1,__:[10]})])]),t("div",Dt,[t("div",Ct,[t("table",Tt,[s[12]||(s[12]=t("thead",null,[t("tr",null,[t("th",null,"Order"),t("th",null,"Table"),t("th",null,"Items"),t("th",null,"Total"),t("th",null,"Status")])],-1)),t("tbody",Mt,[(x(!0),u(y,null,w(e(n).latestOrders,l=>(x(),u("tr",{key:l.id},[t("td",null,[t("div",jt,"#"+o(l.id.toString().padStart(4,"0")),1),t("div",Rt,o(O(l.time)),1)]),t("td",kt,"Table "+o(l.table),1),t("td",Lt,o(l.items)+" items",1),t("td",$t,"R$"+o(l.total.toFixed(2)),1),t("td",null,[t("span",{class:v([D(l.status),"badge"])},o(l.status),3)])]))),128))])])])])])]),t("div",At,[t("div",Pt,[s[18]||(s[18]=t("div",{class:"card-header"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Status da Mesas")],-1)),t("div",Vt,[t("div",Bt,[t("div",Nt,[s[13]||(s[13]=t("div",{class:"flex items-center space-x-3"},[t("div",{class:"w-3 h-3 bg-green-500 rounded-full"}),t("span",{class:"text-sm text-gray-600"},"Available")],-1)),t("span",Ft,o(e(i).tableStatusCounts.available),1)]),t("div",zt,[s[14]||(s[14]=t("div",{class:"flex items-center space-x-3"},[t("div",{class:"w-3 h-3 bg-yellow-500 rounded-full"}),t("span",{class:"text-sm text-gray-600"},"Occupied")],-1)),t("span",Gt,o(e(i).tableStatusCounts.occupied),1)]),t("div",Ht,[s[15]||(s[15]=t("div",{class:"flex items-center space-x-3"},[t("div",{class:"w-3 h-3 bg-blue-500 rounded-full"}),t("span",{class:"text-sm text-gray-600"},"Reserved")],-1)),t("span",Wt,o(e(i).tableStatusCounts.reserved),1)]),t("div",Zt,[s[16]||(s[16]=t("div",{class:"flex items-center space-x-3"},[t("div",{class:"w-3 h-3 bg-red-500 rounded-full"}),t("span",{class:"text-sm text-gray-600"},"Out of Service")],-1)),t("span",qt,o(e(i).tableStatusCounts.outOfService),1)])])]),t("div",Et,[d(c,{to:"/tables",class:"btn-secondary w-full justify-center"},{default:m(()=>s[17]||(s[17]=[h(" Visualizar Mesas ")])),_:1,__:[17]})])]),t("div",It,[s[23]||(s[23]=t("div",{class:"card-header"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Ações Rápidas")],-1)),t("div",Qt,[t("div",Ut,[d(c,{to:"/products",class:"btn-ghost p-4 flex flex-col items-center text-center space-y-2"},{default:m(()=>[d(e(N),{class:"w-6 h-6 text-emerald-600"}),s[19]||(s[19]=t("span",{class:"text-xs font-medium"},"Adicionar Produto",-1))]),_:1,__:[19]}),d(c,{to:"/waiters",class:"btn-ghost p-4 flex flex-col items-center text-center space-y-2"},{default:m(()=>[d(e(z),{class:"w-6 h-6 text-blue-600"}),s[20]||(s[20]=t("span",{class:"text-xs font-medium"},"Adicionar Garçom",-1))]),_:1,__:[20]}),d(c,{to:"/tables",class:"btn-ghost p-4 flex flex-col items-center text-center space-y-2"},{default:m(()=>[d(e(S),{class:"w-6 h-6 text-yellow-600"}),s[21]||(s[21]=t("span",{class:"text-xs font-medium"},"Adicionar Mesa",-1))]),_:1,__:[21]}),d(c,{to:"/categories",class:"btn-ghost p-4 flex flex-col items-center text-center space-y-2"},{default:m(()=>[d(e(F),{class:"w-6 h-6 text-purple-600"}),s[22]||(s[22]=t("span",{class:"text-xs font-medium"},"Categorias",-1))]),_:1,__:[22]})])])]),t("div",Jt,[s[24]||(s[24]=t("div",{class:"card-header"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Melhores Desempenhos")],-1)),t("div",Kt,[t("div",Xt,[(x(!0),u(y,null,w(e(f).topPerformingWaiters,l=>(x(),u("div",{key:l.id,class:"flex items-center space-x-3"},[t("img",{src:l.avatar,alt:l.name,class:"h-10 w-10 rounded-full object-cover"},null,8,Yt),t("div",ts,[t("p",ss,o(l.name),1),t("p",es,o(l.tablesServed)+" tables today",1)]),t("div",as,[t("p",os,o(l.rating)+"/5",1)])]))),128))])])])])])])}}};export{xs as default};
